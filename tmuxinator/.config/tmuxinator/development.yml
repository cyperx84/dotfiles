name: development
root: ~/Code

# Universal development template with sesh integration
on_project_start: echo "🚀 Starting development workspace..."
on_project_first_start: |
  echo "👋 Welcome to your development environment!"
  echo "💡 This template works with any project directory"
  echo "🔗 Integrated with sesh for seamless session management"
on_project_restart: echo "♻️ Refreshing development session"

windows:
  - Code:
      layout: main-horizontal
      options:
        main-pane-height: 75%
      panes:
        - editor:
          - nvim .
        - terminal:
          - echo "💻 Development terminal ready"
          - echo "🌟 Quick commands:"
          - echo "  • git status  • npm/yarn install  • make  • cargo build"
          
  - Git:
      layout: even-vertical
      panes:
        - status:
          - git status --short
          - echo ""
          - echo "📊 Recent commits:"
          - git log --oneline -5
        - diff:
          - echo "📝 Working changes:"
          - git diff --name-only
          
  - Tools:
      layout: even-horizontal
      panes:
        - file-manager:
          - yazi  # File browser
        - claude:
          - claude  # AI assistance
        - monitor:
          - echo "📊 System monitor"
          - echo "💾 Memory: $(free -h | awk 'NR==2{printf "%.1f%%", $3*100/$2 }')" 2>/dev/null || echo "💾 Memory: $(memory_pressure | grep 'System-wide memory free percentage')"
          
  - Services:
      panes:
        - server:
          - echo "🌐 Development server"
          - echo "▶️ Start your project server here"
          - echo "💡 Examples:"
          - echo "  • python -m http.server 8000"
          - echo "  • npm run dev"
          - echo "  • cargo run"
          - echo "  • make serve"