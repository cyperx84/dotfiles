# Enhanced Sesh List Configuration
# Version: 4.0 - CyperX Neon Edition

# ============================================================================
# DISPLAY MODES
# ============================================================================

# Default display mode (compact, detailed, rich)
# - compact: Single line with essential info (default)
# - detailed: Rich metadata inline (git, resources, containers, time)
# - rich: Maximum visual with all icons and progress bars
DISPLAY_MODE=compact

# ============================================================================
# SORTING OPTIONS
# ============================================================================

# Default sort mode (activity, resources, windows, alpha)
# - activity: Most recently used first (default)
# - resources: Highest CPU/memory usage first
# - windows: Sessions with most windows first
# - alpha: Alphabetical A-Z
SORT_MODE=activity

# ============================================================================
# FILTER OPTIONS
# ============================================================================

# Default filter mode (all, git, containers, resources)
# - all: Show all sessions (default)
# - git: Only show sessions in git repositories
# - containers: Only show sessions with Docker containers
# - resources: Only show sessions with significant resource usage (>5% CPU or >100MB RAM)
FILTER_MODE=all

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable specific features (1=enabled, 0=disabled)
FEATURE_GIT_STATUS=1           # Show git branch, status, upstream sync
FEATURE_RESOURCE_MONITOR=1     # Show CPU and memory usage
FEATURE_CONTAINER_DETECT=1     # Show Docker containers and dev servers
FEATURE_DEV_ENV_DETECT=1       # Show Python/Node/Rust/Go versions
FEATURE_ACTIVITY_TIMELINE=1    # Show enhanced activity indicators

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Cache TTL in seconds (optimized for speed)
CACHE_TTL_GIT=3           # Git status cache (3 seconds)
CACHE_TTL_RESOURCES=5     # Resource monitoring cache (5 seconds)
CACHE_TTL_CONTAINERS=10   # Container detection cache (10 seconds)
CACHE_TTL_DEV_ENV=10      # Dev environment cache (10 seconds)

# PERFORMANCE OPTIMIZATIONS APPLIED:
# 1. Compact mode skips expensive operations (git, resources, containers, dev env)
# 2. Git status uses single --porcelain call instead of multiple diff/ls-files
# 3. Resource monitoring batches ps calls and skips child scanning for idle sessions
# 4. Container detection caches docker daemon status and batches process checks
# 5. Runtime versions cached globally (Python, Node, Rust, Go)
# 6. Zoxide directories only loaded when Ctrl+X is pressed (not in default view)
# 7. Default view shows only tmux+tmuxinator (6.4x faster: 6.4s ‚Üí 1.0s)

# Resource monitoring thresholds
CPU_THRESHOLD_LOW=30      # Green: <30% CPU
CPU_THRESHOLD_MED=70      # Yellow: 30-70% CPU
CPU_THRESHOLD_HIGH=90     # Orange: 70-90% CPU, Red: >90%

MEM_THRESHOLD_LOW=512     # Green: <512MB RAM
MEM_THRESHOLD_MED=2048    # Yellow: 512MB-2GB RAM
MEM_THRESHOLD_HIGH=4096   # Orange: 2-4GB RAM, Red: >4GB

# ============================================================================
# USAGE INSTRUCTIONS
# ============================================================================

# Environment Variables:
# Set these in your shell or tmux.conf to control behavior:
#
#   export SESH_DISPLAY_MODE=detailed
#   export SESH_SORT_MODE=resources
#   export SESH_FILTER_MODE=git
#
# Command Line Flags:
# Pass these directly to the script:
#
#   ~/.tmux/scripts/sesh_list_enhanced.sh --mode=detailed
#   ~/.tmux/scripts/sesh_list_enhanced.sh --sort=alpha
#   ~/.tmux/scripts/sesh_list_enhanced.sh --filter=containers
#
# FZF Keybinds (in sesh switcher):
#
#   Ctrl+A  - Show all sessions (default view)
#   Ctrl+T  - Show only tmux sessions
#   Ctrl+X  - Show only zoxide directories
#   Ctrl+G  - Show only config directories
#   Ctrl+/  - Create new session
#   Ctrl+I  - Toggle to detailed mode
#   Ctrl+S  - Toggle to alpha sort
#
# ============================================================================
# FEATURES OVERVIEW
# ============================================================================

# Git Integration:
# - Branch name with color coding (green=clean, yellow=dirty, red=conflict)
# - Change counts: +3 (staged), ~2 (modified), ?1 (untracked)
# - Upstream sync: ‚ñ¥2 (ahead), ‚ñø3 (behind), ‚áÖ (diverged)
#
# Resource Monitoring:
# - CPU usage percentage with threshold colors
# - Memory consumption in MB/GB
# - Only shown for significant usage (>5% CPU or >100MB RAM)
#
# Container Detection:
# - Docker containers: üê≥√ó3 (count with color based on quantity)
# - Docker Compose: detected from compose.yml files
# - Dev servers: vite, next, webpack, flask, django, etc.
#
# Development Environments:
# - Python: üêç3.11 (venv)
# - Node.js: ‚öõÔ∏è20.9.0
# - Rust: ü¶Ä1.75.0
# - Go: üêπ1.21.5
#
# Activity Timeline:
# - üî• Active <1h
# - ‚úì Recent <24h
# - ‚è∞ Stale 1d-7d
# - üí§ Sleeping 7d-30d
# - üì¶ Archived >30d
#
# Session Metadata:
# - Window/pane counts: (4w 8p) = 4 windows, 8 panes
# - Gray color for non-critical info

# ============================================================================
# CYPERX NEON COLOR THEME
# ============================================================================

# This script uses your signature CyperX color palette:
# - Electric Green (0xff80ff00) - Active/healthy states
# - Neon Red (0xffff001f) - Errors/critical
# - Electric Blue (0xff002aff) - Info/normal
# - Bright Orange (0xffff6b00) - High load
# - Soft Yellow (0xfff1fc79) - Warnings/changes
# - Purple-Magenta (0xffa48cf2) - Special items
# - Stale Gray (0xff323449) - Inactive

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# If git information is not showing:
#   - Ensure you're in a git repository
#   - Check that git is installed and in PATH
#
# If resource monitoring is not working:
#   - Ensure bc is installed: brew install bc
#   - Check that ps command is available
#
# If container detection is not working:
#   - Ensure docker is installed and running
#   - Check that docker command is in PATH
#
# If colors are not displaying:
#   - Ensure your terminal supports 24-bit color (truecolor)
#   - Check TERM environment variable (should be xterm-256color or similar)
#
# Performance issues:
#   - Increase CACHE_TTL to reduce git/resource queries
#   - Disable specific features by setting flags to 0
#   - Use compact mode instead of detailed/rich

# ============================================================================
# EXAMPLES
# ============================================================================

# Show detailed mode with alphabetical sorting:
#   SESH_DISPLAY_MODE=detailed SESH_SORT_MODE=alpha ~/.tmux/scripts/sesh_list_enhanced.sh -id
#
# Show only git repositories:
#   SESH_FILTER_MODE=git ~/.tmux/scripts/sesh_list_enhanced.sh -id
#
# Show rich mode with resource sorting:
#   SESH_DISPLAY_MODE=rich SESH_SORT_MODE=resources ~/.tmux/scripts/sesh_list_enhanced.sh -id
